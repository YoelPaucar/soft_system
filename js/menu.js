(function(){$.fn.flexNav=function(e){var t,n,r,i,s,o;o=$.extend({animationSpeed:100},e);t=$(this);i=false;r=false;t.find("li").each(function(){if($(this).has("ul").length){return $(this).addClass("item-with-ul").find("ul").hide()}});if(t.data("breakpoint")){n=t.data("breakpoint")}s=function(){if($(window).width()<=n){t.removeClass("lg-screen").addClass("sm-screen");$(".one-page li a").on("click",function(){return t.removeClass("show")});return $(".item-with-ul").off()}else{t.removeClass("sm-screen").addClass("lg-screen");t.removeClass("show");return $(".item-with-ul").on("mouseenter",function(){return $(this).find(">ul").addClass("show").stop(true,true).slideDown(o.animationSpeed)}).on("mouseleave",function(){return $(this).find(">ul").removeClass("show").stop(true,true).slideUp(o.animationSpeed)})}};$(".item-with-ul, .menu-button").append('<span class="touch-button"></span>');$(".menu-button, .menu-button .touch-button").on("touchstart mousedown",function(e){e.preventDefault();e.stopPropagation();console.log(r);return $(this).on("touchmove mousemove",function(e){var t;t=e.pageX;r=true;return $(window).off("touchmove mousemove")})}).on("touchend mouseup",function(e){var n;e.preventDefault();e.stopPropagation();r=false;n=$(this).parent();if(r===false){console.log("clicked")}if(i===false){t.addClass("show");return i=true}else if(i===true){t.removeClass("show");return i=false}});$(".touch-button").on("touchstart mousedown",function(e){e.stopPropagation();e.preventDefault();return $(this).on("touchmove mousemove",function(e){r=true;return $(window).off("touchmove mousemove")})}).on("touchend mouseup",function(e){var n;e.preventDefault();e.stopPropagation();n=$(this).parent(".item-with-ul").find(">ul");if(t.hasClass("lg-screen")===true){$(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide()}if(n.hasClass("show")===true){n.siblings(".touch-button").removeClass("submenu-open");return n.removeClass("show").slideUp(o.animationSpeed)}else if(n.hasClass("show")===false){n.siblings(".touch-button").addClass("submenu-open");return n.addClass("show").slideDown(o.animationSpeed)}});$(".item-with-ul *").focus(function(){$(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide();return $(this).parent(".item-with-ul").find(">ul").addClass("open").show()});s();return $(window).on("resize",s)}}).call(this)